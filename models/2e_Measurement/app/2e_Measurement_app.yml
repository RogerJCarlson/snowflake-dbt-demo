version: 2

models:
  - name: T_TEMP_SOURCE
    description: Subordinate view to V_MEASUREMENT_FLOWSHEET_HSP_TEMPERATURE. 

  - name: T_TEMPERATURE_MERGE
    description: Subordinate view to V_MEASUREMENT_FLOWSHEET_HSP_TEMPERATURE. 

  - name: T_TEMPERATURE
    description: Subordinate view to V_MEASUREMENT_FLOWSHEET_HSP_TEMPERATURE. 

  - name: T_TEMP_SOURCE_AMB
    description: Subordinate view to V_MEASUREMENT_FLOWSHEET_AMB_TEMPERATURE. 

  - name: T_TEMPERATURE_MERGE_AMB
    description: Subordinate view to V_MEASUREMENT_FLOWSHEET_AMB_TEMPERATURE. 

  - name: T_TEMPERATURE_AMB
    description: Subordinate view to V_MEASUREMENT_FLOWSHEET_AMB_TEMPERATURE. 

  - name: T_TEMP_SOURCE_ANES
    description: Subordinate view to V_MEASUREMENT_FLOWSHEET_ANES_TEMPERATURE. 

  - name: T_TEMPERATURE_MERGE_ANES
    description: Subordinate view to V_MEASUREMENT_FLOWSHEET_ANES_TEMPERATURE. 

  - name: T_TEMPERATURE_ANES
    description: Subordinate view to V_MEASUREMENT_FLOWSHEET_ANES_TEMPERATURE.     


  - name: V_MEASUREMENT_FLOWSHEET_AMB_BMI
    description: Subordinate view to MEASUREMENT. 

  - name: V_MEASUREMENT_FLOWSHEET_AMB_BPD
    description: Subordinate view to MEASUREMENT. 

  - name: V_MEASUREMENT_FLOWSHEET_AMB_BPS
    description: Subordinate view to MEASUREMENT. 

  - name: V_MEASUREMENT_FLOWSHEET_AMB_MISC
    description: Subordinate view to MEASUREMENT. 

  - name: V_MEASUREMENT_FLOWSHEET_AMB_TEMPERATURE
    description: Subordinate view to MEASUREMENT. 

  - name: V_MEASUREMENT_FLOWSHEET_AMB_VITALS
    description: Subordinate view to MEASUREMENT. 


  - name: V_MEASUREMENT_FLOWSHEET_ANES_BPD
    description: Subordinate view to MEASUREMENT. 

  - name: V_MEASUREMENT_FLOWSHEET_ANES_BPM
    description: Subordinate view to MEASUREMENT. 

  - name: V_MEASUREMENT_FLOWSHEET_ANES_BPS
    description: Subordinate view to MEASUREMENT. 

  - name: V_MEASUREMENT_FLOWSHEET_ANES_MISC
    description: Subordinate view to MEASUREMENT. 

  - name: V_MEASUREMENT_FLOWSHEET_ANES_TEMPERATURE
    description: Subordinate view to MEASUREMENT. 

  - name: V_MEASUREMENT_FLOWSHEET_ANES_VITALS
    description: Subordinate view to MEASUREMENT.



  - name: V_MEASUREMENT_FLOWSHEET_HSP_BMI
    description: Subordinate view to MEASUREMENT. 

  - name: V_MEASUREMENT_FLOWSHEET_HSP_BPD
    description: Subordinate view to MEASUREMENT. 

  - name: V_MEASUREMENT_FLOWSHEET_HSP_BPS
    description: Subordinate view to MEASUREMENT. 

  - name: V_MEASUREMENT_FLOWSHEET_HSP_MISC
    description: Subordinate view to MEASUREMENT. 

  - name: V_MEASUREMENT_FLOWSHEET_HSP_TEMPERATURE
    description: Subordinate view to MEASUREMENT. 

  - name: V_MEASUREMENT_FLOWSHEET_HSP_VITALS
    description: Subordinate view to MEASUREMENT.



  - name: V_MEASUREMENT_LOINC_AMB
    description: Subordinate view to MEASUREMENT. 

  - name: V_MEASUREMENT_LOINC_HSP
    description: Subordinate view to MEASUREMENT.




  - name: MEASUREMENT
    description: The MEASUREMENT table contains records of Measurements, i.e. structured values (numerical or categorical) obtained through systematic and standardized examination or testing of a Person or Personâ€™s sample. 
    columns: 
      - name: MEASUREMENT_ID
        description: unique id
        tests:
          - unique
          - not_null

      - name: PERSON_ID
        tests:
          - not_null    
          - relationships:
              to: ref('PERSON')
              field: PERSON_ID 

      - name: MEASUREMENT_CONCEPT_ID
        tests:
          - not_null
          - relationships:
              to: source('CDM','CONCEPT')
              field: CONCEPT_ID   

      - name: MEASUREMENT_TYPE_CONCEPT_ID
        tests:
          - not_null
          - relationships:
              to: source('CDM','CONCEPT')
              field: CONCEPT_ID   

      - name: OPERATOR_CONCEPT_ID
        tests:
          - not_null
          - relationships:
              to: source('CDM','CONCEPT')
              field: CONCEPT_ID   

      - name: UNIT_CONCEPT_ID
        tests:
          - not_null
          - relationships:
              to: source('CDM','CONCEPT')
              field: CONCEPT_ID   

      - name: PROVIDER_ID
        tests:
          - not_null:
              config:
                severity: warn
          - relationships:
              to: ref('PROVIDER')
              field: PROVIDER_ID

      - name: VISIT_OCCURRENCE_ID
        tests:
          - not_null:
              config:
                severity: warn
          - relationships:
              to: ref('VISIT_OCCURRENCE')
              field: VISIT_OCCURRENCE_ID          
 
      - name: VISIT_DETAIL_ID
        tests:
          - not_null:
              config:
                severity: warn
                           
      - name: MEASUREMENT_SOURCE_CONCEPT_ID
        tests:
          - relationships:
              to: source('CDM','CONCEPT')
              field: CONCEPT_ID   

             
